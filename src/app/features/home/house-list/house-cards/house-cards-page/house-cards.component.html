<ngx-spinner size="medium" color="#fff" type="ball-scale-multiple">
  <p style="font-size: 20px; color: white">Loading...</p>
</ngx-spinner>
<section class="home-listing">
  <button
    class="favorite-icon-button"
    (click)="toggleFavorite(housingLocation)"
    [ngClass]="{ favorited: isFavorited(housingLocation) }"
    aria-label="Favorite"
    type="button"
  >
    <mat-icon>
      {{ isFavorited(housingLocation) ? "favorite" : "favorite_border" }}
    </mat-icon>
  </button>
  <a class="home-listing-link" [routerLink]="['/details', housingLocation.id]">
    <img
      class="home-listing-photo"
      [src]="housingLocation.imageUrl || housingLocation.photo"
      alt="Exterior photo of {{ housingLocation.name }}"
      loading="eager"
    />

    <h2 class="home-listing-heading">{{ housingLocation.name }}</h2>

    <span
      class="home-listing__type-label"
      role="text"
      [attr.aria-label]="
        'Tipo de negÃ³cio: ' + (housingLocation.typeOfBusiness | titlecase)
      "
      [ngClass]="{
        'home-listing__type-label--sell':
          housingLocation.typeOfBusiness === 'sell',
        'home-listing__type-label--rent':
          housingLocation.typeOfBusiness === 'rent'
      }"
    >
      {{ housingLocation.typeOfBusiness | titlecase }}
    </span>

    <div class="home-listing-row">
      <img class="home-listing-pin" src="../../assets/pin2.webp" alt="pin" />
      <h5 class="home-listing-location">
        {{ housingLocation.city }}, {{ housingLocation.state }}
      </h5>
    </div>
  </a>

  <div
    class="card-edit-button-wrapper"
    *ngIf="currentUserRole === 'Admin' || currentUserRole === 'Manager'"
  >
    <button
      class="edit-button"
      (click)="openEditHouse(housingLocation.id)"
      aria-label="Edit house"
      [matTooltip]="'Edit house'"
    >
      <span class="material-icons">edit</span>
    </button>
  </div>
</section>
