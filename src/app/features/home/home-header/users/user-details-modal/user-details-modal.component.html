<h2 mat-dialog-title>User Activity Details: {{ data.user.name }}</h2>
<mat-dialog-content class="mat-typography">
  <div *ngIf="isLoading" class="loading-indicator">
    <mat-spinner diameter="50"></mat-spinner>
    <p>Loading activity...</p>
  </div>

  <div *ngIf="!isLoading">
    <section *ngIf="createdHouses.length > 0">
      <h3>Houses Created by User</h3>
      <ul>
        <li *ngFor="let house of createdHouses; trackBy: trackByHouseId">
          {{ house.name }} (ID: {{ house.id }}) - Created on:
          {{ house.createdAt | date : "short" }}
        </li>
      </ul>
    </section>
    <mat-divider
      *ngIf="
        createdHouses.length > 0 &&
        (editedHouses.length > 0 || deletedHouses.length > 0)
      "
    ></mat-divider>

    <section *ngIf="editedHouses.length > 0">
      <h3>Houses Edited by User</h3>
      <ul>
        <li *ngFor="let house of editedHouses; trackBy: trackByHouseId">
          {{ house.name }} (ID: {{ house.id }}) - Last edited on:
          {{ house.updatedAt | date : "short" }}
        </li>
      </ul>
    </section>
    <mat-divider
      *ngIf="editedHouses.length > 0 && deletedHouses.length > 0"
    ></mat-divider>

    <section *ngIf="deletedHouses.length > 0">
      <h3>Houses Deleted by User</h3>
      <ul>
        <li *ngFor="let house of deletedHouses; trackBy: trackByHouseId">
          {{ house.name }} (ID: {{ house.id }}) - Deleted on:
          {{ house.deletedAt | date : "short" }}
        </li>
      </ul>
    </section>

    <p
      *ngIf="
        !createdHouses.length && !editedHouses.length && !deletedHouses.length
      "
    >
      No house creation, edit, or deletion activity found for this user.
    </p>
  </div>
</mat-dialog-content>
<mat-dialog-actions align="end">
  <button mat-button mat-dialog-close>Close</button>
</mat-dialog-actions>
