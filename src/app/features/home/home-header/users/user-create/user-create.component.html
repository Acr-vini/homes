<ngx-spinner size="medium" color="#381c9e" type="ball-spin-clockwise">
  <p style="font-size: 20px; color: white">Loading...</p>
</ngx-spinner>

<mat-card class="edit-card">
  <mat-card-title>Create User</mat-card-title>

  <form [formGroup]="userForm" (ngSubmit)="onSave()">
    <!-- Name -->
    <mat-form-field class="full-width">
      <mat-label>Name</mat-label>
      <input matInput formControlName="name" required />
      <mat-error
        *ngIf="userForm.get('name')?.invalid && userForm.get('name')?.touched"
      >
        Name is required
      </mat-error>
    </mat-form-field>

    <!-- Email -->
    <mat-form-field class="full-width">
      <mat-label>Email</mat-label>
      <input matInput formControlName="email" required />
      <mat-error
        *ngIf="userForm.get('email')?.invalid && userForm.get('email')?.touched"
      >
        Valid email is required
      </mat-error>
    </mat-form-field>

    <!-- Password -->
    <mat-form-field class="full-width">
      <mat-label>Password</mat-label>
      <input matInput formControlName="password" type="password" required />
      <mat-error
        *ngIf="
          userForm.get('password')?.invalid && userForm.get('password')?.touched
        "
      >
        Password is required
      </mat-error>
    </mat-form-field>

    <!-- Phone -->
    <mat-form-field class="full-width">
      <mat-label>Phone</mat-label>
      <input matInput formControlName="phone" />
    </mat-form-field>

    <!-- Location -->
    <mat-form-field class="full-width">
      <mat-label>Location</mat-label>
      <input matInput formControlName="location" />
    </mat-form-field>

    <!-- Role -->
    <mat-form-field class="full-width">
      <mat-label>Role</mat-label>
      <mat-select formControlName="role" required>
        <mat-option value="User">User</mat-option>
        <mat-option value="Manager">Manager</mat-option>
        <mat-option value="Admin">Admin</mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Status -->
    <mat-form-field class="full-width">
      <mat-label>Status</mat-label>
      <mat-select formControlName="status" required>
        <mat-option value="active">Active</mat-option>
        <mat-option value="disabled">Disabled</mat-option>
      </mat-select>
      <mat-error
        *ngIf="
          userForm.get('status')?.invalid && userForm.get('status')?.touched
        "
      >
        Status is required
      </mat-error>
    </mat-form-field>

    <!-- Actions -->
    <div class="actions">
      <button
        mat-icon-button
        class="save-btn"
        type="submit"
        aria-label="Save"
        matTooltip="Save"
      >
        <span class="material-symbols-outlined">save</span>
      </button>
      <button
        mat-icon-button
        class="cancel-btn"
        (click)="onCancel()"
        aria-label="Cancel"
        matTooltip="Cancel"
      >
        <span class="material-symbols-outlined">cancel</span>
      </button>
    </div>
  </form>
</mat-card>
