<ngx-spinner size="medium" color="#fff" type="ball-scale-multiple">
  <p style="font-size: 20px; color: white">Loading...</p>
</ngx-spinner>
<h2 class="title-h2">My Applications</h2>
<div class="activity-container">
  <section
    class="home-listing"
    *ngFor="let app of applications; trackBy: trackByApplicationId"
  >
    <a class="home-listing-link" (click)="viewDetails(app)">
      <!-- House photo -->
      <img
        class="home-listing-photo"
        [src]="app.photoUrl"
        [alt]="'Photo of ' + app.houseName"
        loading="eager"
      />

      <!-- House name -->
      <h2 class="home-listing-heading">{{ app.houseName }}</h2>

      <!-- Type label -->
      <span
        class="home-listing__type-label"
        [ngClass]="{
          'home-listing__type-label--sell': app.typeOfBusiness === 'sell',
          'home-listing__type-label--rent': app.typeOfBusiness === 'rent'
        }"
      >
        <mat-icon class="Tob">sell</mat-icon>

        {{ app.typeOfBusiness | titlecase }}
      </span>

      <!-- Visit / Stay message -->
      <div class="home-listing-row">
        <mat-icon>event</mat-icon>
        <h5 class="home-listing-location">
          <ng-container *ngIf="app.typeOfBusiness === 'sell'; else rentMsg">
            Visit on {{ app.visitDate }} at {{ app.visitTime }}
          </ng-container>
          <ng-template #rentMsg>
            Stay from {{ app.checkInDate }} to {{ app.checkOutDate }}
          </ng-template>
        </h5>
      </div>
    </a>
    <div class="application-actions">
      <button
        mat-icon-button
        color="warn"
        (click)="confirmDeleteApplication(app)"
        [matTooltip]="'Uncheck application'"
        class="uncheck-button"
      >
        <mat-icon>event_busy</mat-icon>
      </button>
      <button
        mat-icon-button
        (click)="editApplication(app)"
        [matTooltip]="'Edit application'"
        class="edit-button"
      >
        <mat-icon>edit</mat-icon>
      </button>
    </div>
  </section>

  <!-- Mensagem se não houver aplicações -->
  <div
    *ngIf="applications.length === 0 && currentUserId && !isLoading"
    class="no-applications-message"
  >
    You have no applications yet.
  </div>
  <div *ngIf="!currentUserId && !isLoading" class="no-applications-message">
    Please log in to see your applications.
  </div>
</div>

<!-- Rodapé com informações adicionais -->
<footer class="activity-footer">
  <p>For property viewings and check-ins, please arrive 15 minutes early.</p>
  <p>Rented properties have check-in at 08:00 AM and check-out at 06:00 PM.</p>
</footer>
