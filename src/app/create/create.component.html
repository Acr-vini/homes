<mat-card class="create-form">
  <mat-card-title>Create a New House</mat-card-title>

  <!-- Mensagens -->
  <mat-card-content>
    <div *ngIf="successMessage" class="alert success-alert">
      {{ successMessage }}
    </div>
    <div *ngIf="errorMessage" class="alert error-alert">
      {{ errorMessage }}
    </div>
  </mat-card-content>

  <form #formRef="ngForm" (ngSubmit)="onSubmit()">
    <!-- Name -->
    <mat-form-field class="full-width">
      <mat-label>House Name</mat-label>
      <input
        matInput
        name="name"
        required
        [(ngModel)]="housingLocation.name"
        #nameRef="ngModel"
      />
      <mat-error *ngIf="nameRef.invalid && nameRef.touched">
        This field is required.
      </mat-error>
    </mat-form-field>

    <!-- City -->
    <mat-form-field class="full-width">
      <mat-label>City</mat-label>
      <input
        matInput
        name="city"
        required
        [(ngModel)]="housingLocation.city"
        #cityRef="ngModel"
      />
      <mat-error *ngIf="cityRef.invalid && cityRef.touched">
        This field is required.
      </mat-error>
    </mat-form-field>

    <!-- State -->
    <mat-form-field class="full-width">
      <mat-label>State</mat-label>
      <input
        matInput
        name="state"
        required
        [(ngModel)]="housingLocation.state"
        #stateRef="ngModel"
      />
      <mat-error *ngIf="stateRef.invalid && stateRef.touched">
        This field is required.
      </mat-error>
    </mat-form-field>

    <!-- Available Units -->
    <mat-form-field class="full-width">
      <mat-label>Available Units</mat-label>
      <input
        matInput
        type="number"
        name="availableUnits"
        required
        [(ngModel)]="housingLocation.availableUnits"
        #unitsRef="ngModel"
      />
      <mat-error *ngIf="unitsRef.invalid && unitsRef.touched">
        This field is required.
      </mat-error>
    </mat-form-field>

    <!-- Wi-Fi -->
    <mat-checkbox
      name="wifi"
      [(ngModel)]="housingLocation.wifi"
    >
      Wi-Fi Available
    </mat-checkbox>

    <!-- Laundry -->
    <mat-checkbox
      name="laundry"
      [(ngModel)]="housingLocation.laundry"
    >
      Laundry Available
    </mat-checkbox>

    <!-- Upload de imagem -->
    <div class="image-upload">
      <button
        mat-stroked-button
        type="button"
        (click)="fileInput.click()"
      >
        <mat-icon>upload</mat-icon>
        Upload Image
      </button>
      <input
        #fileInput
        type="file"
        hidden
        (change)="onImageSelected($event)"
      />
    </div>

    <!-- Preview -->
    <div *ngIf="imagePreview" class="image-preview">
      <p>Preview:</p>
      <img [src]="imagePreview" alt="Image preview" />
    </div>

    <!-- BotÃ£o Submit -->
    <div class="actions">
      <button
        mat-raised-button
        color="primary"
        type="submit"
        [disabled]="formRef.invalid"
      >
        Submit
      </button>
    </div>
  </form>
</mat-card>
